{% extends 'dashboard/template.html' %}
{% block page %}
    <section>
        <form action=""></form>
    </section>
    <section>
        {% for x in range(5) %}
        
        {% endfor %}
    </section>
    <section class="space-y-5">
        {% if user %}
            {% if user.role == 'instructor' %}
            <a href="/dashboard/classroom/create/">create a classroom</a>
            {% endif %}
        {% endif %}
        {% if classrooms %}
        {% for classroom in classrooms %}
        <div class="card w-full bg-base-100 border">
            <div class="card-body flex-row gap-5 items-center">
                <a href="/dashboard/classroom/find/?id={{classroom.id}}" class="btn btn-square btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </a>
                <div>
                    <span class="text-xl font-bold">{{classroom.name}}</span>
                    <p>{{classroom.description}}</p>
                </div>
            </div>
        </div>
        {% endfor %}
        {% elif classroom %}
        <div class="">
            <h1 class="text-2xl font-bold">{{classroom.name}}</h1>
            <p class="text-lg font-light">{{classroom.description}}</p>
            <div class="overflow-x-auto">
            <div role="tablist" class="tabs tabs-lifted">
                <input type="radio" name="my_tabs_2" role="tab" class="tab" aria-label="Students" checked />
                <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                {% if students %}
                <table role="tabpanel" class="tab-content table">
                    <!-- head -->
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- row 1 -->
                    {% for student in students %}
                    <tr>
                        <th class="cursor-pointer" onclick="copyText(this)">{{student['id']}}>{{student['id']}}</th>
                        <td>{{student['name']}}</td>
                        <td>{{student['email']}}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                {% endif %}
                </div>
                <input type="radio" name="my_tabs_2" role="tab" class="tab" aria-label="Quizzes" />
                <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                    {% if quizzes %}
                    <table role="tabpanel" class="tab-content table">
                        <!-- head -->
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for quiz in quizzes %}
                        <tr>
                            <th class="cursor-pointer" onclick="copyText(this)">{{quiz['id']}}</th>
                            <td>{{quiz['name']}}</td>
                            <td>{{quiz['description']}}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% endif %}
                </div>
                </div>
            </div>
        </div>
        {% endif %}
    </section>
    <script>
        function copyText(element) {
            // Select the text content
            const text = element.textContent;

            // Create a temporary element to stage the text
            const tempElement = document.createElement("textarea");
            tempElement.value = text;
            document.body.appendChild(tempElement);

            // Select the text within the temporary element
            tempElement.select();

            // Copy the selected text to clipboard
            try {
                const successful = navigator.clipboard.writeText(text);
                const msg = successful ? "Text copied to clipboard!" : "Failed to copy text.";
                console.log(msg); // You can replace this with an alert or notification
            } catch (err) {
                console.error("Failed to copy text:", err);
            }

            // Remove the temporary element
            document.body.removeChild(tempElement);
            }

            // Add the listener to an element (replace 'targetElementId' with your actual element ID)
    </script>
{% endblock %}